"use strict";(self.webpackChunkmy_framework_docs=self.webpackChunkmy_framework_docs||[]).push([[2096],{8201:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Part 5 - Reinforcement Learning/Foundations of Reinforcement Learning/Chapter 5 - The Micro Bot/5.2 - Design - Observations for Spatial Awareness","title":"5.2 - Design - Observations for Spatial Awareness","description":"To transition from abstract economic management to concrete combat micro-management, we must fundamentally redesign our agent\'s perception. The observation space must now encode spatial and temporal relationships between units on the battlefield.","source":"@site/docs/Part 5 - Reinforcement Learning/1 - Foundations of Reinforcement Learning/Chapter 5 - The Micro Bot/5.2 - Design - Observations for Spatial Awareness.md","sourceDirName":"Part 5 - Reinforcement Learning/1 - Foundations of Reinforcement Learning/Chapter 5 - The Micro Bot","slug":"/Part 5 - Reinforcement Learning/Foundations of Reinforcement Learning/Chapter 5 - The Micro Bot/5.2 - Design - Observations for Spatial Awareness","permalink":"/learn-python-sc2/docs/Part 5 - Reinforcement Learning/Foundations of Reinforcement Learning/Chapter 5 - The Micro Bot/5.2 - Design - Observations for Spatial Awareness","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"5.1 - Goal - Learning a Combat Skill - Kiting","permalink":"/learn-python-sc2/docs/Part 5 - Reinforcement Learning/Foundations of Reinforcement Learning/Chapter 5 - The Micro Bot/5.1 - Goal - Learning a Combat Skill - Kiting"},"next":{"title":"5.3 - Code - The Micro Bot Environment","permalink":"/learn-python-sc2/docs/Part 5 - Reinforcement Learning/Foundations of Reinforcement Learning/Chapter 5 - The Micro Bot/5.3 - Code - The Micro Bot Environment"}}');var s=n(4848),r=n(8453);const l={},a=void 0,o={},c=[{value:"<strong>Perceptual Requirements for Kiting</strong>",id:"perceptual-requirements-for-kiting",level:4},{value:"<strong>Observation Space Specification</strong>",id:"observation-space-specification",level:4},{value:"<strong>Design Rationale- Flattened Feature Vector</strong>",id:"design-rationale--flattened-feature-vector",level:4}];function d(e){const t={code:"code",h4:"h4",hr:"hr",input:"input",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["To transition from abstract economic management to concrete combat micro-management, we must fundamentally redesign our agent's perception. The observation space must now encode ",(0,s.jsx)(t.strong,{children:"spatial and temporal relationships"})," between units on the battlefield."]}),"\n",(0,s.jsx)(t.h4,{id:"perceptual-requirements-for-kiting",children:(0,s.jsx)(t.strong,{children:"Perceptual Requirements for Kiting"})}),"\n",(0,s.jsx)(t.p,{children:"To successfully learn the kiting policy, the agent must be able to perceive the answers to these questions on every decision step:"}),"\n",(0,s.jsxs)(t.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(t.li,{className:"task-list-item",children:[(0,s.jsx)(t.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(t.strong,{children:"My Condition:"})," How damaged am I?"]}),"\n",(0,s.jsxs)(t.li,{className:"task-list-item",children:[(0,s.jsx)(t.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(t.strong,{children:"My Weapon State:"})," Is my weapon ready to fire right now?"]}),"\n",(0,s.jsxs)(t.li,{className:"task-list-item",children:[(0,s.jsx)(t.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(t.strong,{children:"Enemy Condition:"})," How damaged is my target?"]}),"\n",(0,s.jsxs)(t.li,{className:"task-list-item",children:[(0,s.jsx)(t.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(t.strong,{children:"Relative Position:"})," Am I too close or too far from the enemy?"]}),"\n",(0,s.jsxs)(t.li,{className:"task-list-item",children:[(0,s.jsx)(t.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(t.strong,{children:"Engagement Feasibility:"})," Is the enemy currently within my attack range?"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This checklist directly informs the design of our observation vector."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h4,{id:"observation-space-specification",children:(0,s.jsx)(t.strong,{children:"Observation Space Specification"})}),"\n",(0,s.jsxs)(t.p,{children:["We will provide the agent with a fixed-size, 1D vector (",(0,s.jsx)(t.code,{children:"numpy.ndarray"}),") that contains all the necessary information for the 1v1 kiting task."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Gymnasium Type:"})," ",(0,s.jsx)(t.code,{children:"gymnasium.spaces.Box"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Shape:"})," ",(0,s.jsx)(t.code,{children:"(5,)"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Data Type:"})," ",(0,s.jsx)(t.code,{children:"numpy.float32"})]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Index"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Feature Description"}),(0,s.jsxs)(t.th,{style:{textAlign:"left"},children:["Source ",(0,s.jsx)(t.code,{children:"python-sc2"})," Property"]}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Rationale / Question Answered"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Agent's Internal State"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"}}),(0,s.jsx)(t.td,{style:{textAlign:"left"}}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"0"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Agent's Health %"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"marine.health_percentage"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:'"What is my current level of risk?"'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"1"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Weapon Cooldown"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"1.0 if marine.weapon_cooldown > 0 else 0.0"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"(Temporal)"}),' "Is my primary weapon available?"']})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Target's Internal State"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"}}),(0,s.jsx)(t.td,{style:{textAlign:"left"}}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"2"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Target's Health %"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"zergling.health_percentage"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:'"How close am I to neutralizing the threat?"'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Relational State"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"}}),(0,s.jsx)(t.td,{style:{textAlign:"left"}}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"3"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Distance to Target"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"marine.distance_to(zergling)"})," (Normalized)"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"(Spatial)"}),' "Is my positioning correct?"']})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"4"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Target in Range"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"1.0 if marine.target_in_range(zergling) else 0.0"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"(Spatial)"}),' "Is attacking a valid move from this position?"']})]})]})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h4,{id:"design-rationale--flattened-feature-vector",children:(0,s.jsx)(t.strong,{children:"Design Rationale- Flattened Feature Vector"})}),"\n",(0,s.jsxs)(t.p,{children:["For this constrained 1v1 scenario, we are using a ",(0,s.jsx)(t.strong,{children:"flattened feature vector"}),'. This is a simple and effective representation because the relationships are fixed: the state always describes "me" in relation to "the single enemy."']}),"\n",(0,s.jsxs)(t.p,{children:["This approach has limitations and does not scale to more complex scenarios (e.g., a 5v5 battle). A more advanced agent would require a ",(0,s.jsx)(t.strong,{children:"relational representation"})," (such as a list of unit vectors or a graph neural network) to handle a variable number of units and their interactions."]}),"\n",(0,s.jsx)(t.p,{children:"However, for this foundational combat task, the minimalist 5-feature vector is the correct design choice. It provides all necessary information while keeping the state space small and highly learnable, allowing the agent to focus solely on mastering the core mechanics of timing and spacing."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>a});var i=n(6540);const s={},r=i.createContext(s);function l(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);